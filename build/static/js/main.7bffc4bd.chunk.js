(this.webpackJsonpeqworks=this.webpackJsonpeqworks||[]).push([[0],{148:function(e,t,n){},224:function(e,t,n){},372:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),o=n(28),i=n.n(o),r=(n(224),n.p,n(148),n(225),n(48)),c=n(49),l=n(50),u=n(52),h=n(388),d=n(377),j=n(381),m=n(204),p=n(205),b=n(94),f=n(91),v=n(213),k=n(51),O=n.n(k),x=n(4),g=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={dailyData:null},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/events/daily").then((function(e){return e.json()})).then((function(t){return e.formatDailyDates(t)})).then((function(t){return e.setState({dailyData:t})}))}},{key:"formatDailyDates",value:function(e){for(var t in e)e[t].date=O()(e[t].date).format("dd, DD MMM Y");return e}},{key:"render",value:function(){return Object(x.jsx)("div",{style:{width:"100%"},children:Object(x.jsx)(h.a,{width:"80%",height:500,children:Object(x.jsxs)(d.a,{width:500,height:300,margin:{top:5,right:30,left:20,bottom:5},data:this.state.dailyData,children:[Object(x.jsx)(j.a,{strokeDasharray:"3 3"}),Object(x.jsx)(m.a,{dataKey:"date"}),Object(x.jsx)(p.a,{}),Object(x.jsx)(b.a,{}),Object(x.jsx)(f.a,{}),Object(x.jsx)(v.a,{name:"Events",type:"monotone",dataKey:"events",stroke:"#8884d8",activeDot:{r:8}})]})})})}}]),n}(s.Component),y=n(387),w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={stats:null,showClicks:!0,showImpressions:!0,showRevenue:!0,tooltip:[Object(x.jsx)("div",{className:"custom-tooltip",children:Object(x.jsx)("p",{className:"label"})})]},e.clicksToggle=function(){var t=e.state.showClicks;e.setState({showClicks:!t})},e.impressionsToggle=function(){e.setState({showImpressions:!e.state.showImpressions})},e.revenueToggle=function(){e.setState({showRevenue:!e.state.showRevenue})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/stats/daily").then((function(e){return e.json()})).then((function(t){return e.formatDailyDates(t)})).then((function(t){return e.scaleImpressions(t)})).then((function(t){return e.setState({stats:t})}))}},{key:"formatDailyDates",value:function(e){for(var t in e)e[t].date=O()(e[t].date).format("dd, DD MMM Y");return e}},{key:"scaleImpressions",value:function(e){for(var t in e)e[t].impressions=e[t].impressions/1e3;return e}},{key:"createLines",value:function(){var e=[];return this.state.showClicks&&(e.push(Object(x.jsx)(v.a,{name:"Clicks",type:"monotone",dataKey:"clicks",stroke:"#FF5733",activeDot:{r:8}})),this.state.tooltip.push()),this.state.showImpressions&&e.push(Object(x.jsx)(v.a,{name:"Impressions (in thousands)",type:"monotone",dataKey:"impressions",stroke:"#FFC300",activeDot:{r:8}})),this.state.showRevenue&&e.push(Object(x.jsx)(v.a,{name:"Revenue",type:"monotone",dataKey:"revenue",stroke:"#900C3F",activeDot:{r:8}})),e}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{style:{width:"100%"},children:[Object(x.jsx)(h.a,{className:"chartContainer",width:"80%",height:500,children:Object(x.jsxs)(d.a,{className:"statsChart",width:500,height:300,margin:{top:5,right:30,left:20,bottom:5},data:this.state.stats,children:[Object(x.jsx)(j.a,{strokeDasharray:"3 3"}),Object(x.jsx)(m.a,{dataKey:"date"}),Object(x.jsx)(p.a,{}),Object(x.jsx)(b.a,{}),Object(x.jsx)(f.a,{}),this.createLines()]})}),Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"row",margin:2},children:[Object(x.jsx)(y.a,{style:{color:"#FF5733",backgroundColor:"white",border:"2px solid #FF5733",margin:"1px"},onClick:function(){e.clicksToggle()},children:"Clicks"}),Object(x.jsx)(y.a,{style:{color:"#FFC300",backgroundColor:"white",border:"2px solid #FFC300",margin:"1px"},onClick:function(){e.impressionsToggle()},children:"Impressions"}),Object(x.jsx)(y.a,{style:{color:"#900C3F",backgroundColor:"white",border:"2px solid #900C3F",margin:"1px"},onClick:function(){e.revenueToggle()},children:"Revenue"})]})]})}}]),n}(s.Component),C=n(211),D=[{label:"POI Name",field:"name",sort:"asc",width:150},{label:"POI ID",field:"poi_id",sort:"asc",width:150},{label:"Date",field:"date",sort:"asc",width:150},{label:"Clicks",field:"clicks",width:150},{label:"Impressions",field:"impressions",width:150},{label:"Revenue",field:"revenue",width:150},{label:"Events",field:"events",width:150}],F=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={data:{}},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/combined_data").then((function(e){return e.json()})).then((function(t){return e.formatDates(t)})).then((function(t){return e.makeData(t)}))}},{key:"makeData",value:function(e){var t={columns:D,rows:e};this.setState({data:t})}},{key:"formatDates",value:function(e){for(var t in e)e[t].date=O()(e[t].date).format("dd, DD MMM Y");return e}},{key:"render",value:function(){return Object(x.jsx)("div",{style:{width:"80%",margin:10},children:Object(x.jsx)(C.c,{striped:!0,bordered:!0,small:!0,data:this.state.data})})}}]),n}(s.Component),I=n(382),M=n(383),S=n(384),R=n(385),T=n(17),N=n.n(T),z=n(210),P=n.n(z),K=function(e){return N.a.divIcon({html:"<span>".concat(e.getChildCount(),"</span>"),className:"marker-cluster-custom",iconSize:N.a.point(40,40,!0)})},_=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(r.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={data:{},currDay:null,showClicks:!0,showImpressions:!1,showRevenue:!1},e.clicksToggle=function(){e.state.showClicks;e.setState({showClicks:!0,showImpressions:!1,showRevenue:!1})},e.impressionsToggle=function(){e.setState({showClicks:!1,showImpressions:!0,showRevenue:!1})},e.revenueToggle=function(){e.setState({showClicks:!1,showImpressions:!1,showRevenue:!0})},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/combined_data/geo").then((function(e){return e.json()})).then((function(t){return e.formatDates(t)})).then((function(t){return e.setState({data:t,currDay:t[0].date})}))}},{key:"formatDates",value:function(e){for(var t in e)e[t].date=O()(e[t].date).format("dd, DD MMM Y");return e}},{key:"createMarkers",value:function(){var e=[],t=this.state.data;for(var n in t)if(t[n].date===this.state.currDay){if(this.state.showClicks){var s=N.a.divIcon({className:"marker-clicks-custom",iconSize:N.a.point(40,40,!1)});e.push(Object(x.jsx)(I.a,{position:[t[n].lat,t[n].lon],icon:s,onClick:function(){},children:Object(x.jsxs)(M.a,{children:["POI: ",t[n].name,Object(x.jsx)("br",{}),"Clicks: ",t[n].clicks]})},t[n].poi_id))}if(this.state.showImpressions){var a=N.a.divIcon({className:"marker-impressions-custom",iconSize:N.a.point(40,40,!1)});e.push(Object(x.jsx)(I.a,{position:[t[n].lat,t[n].lon],icon:a,onClick:function(){},children:Object(x.jsxs)(M.a,{children:["POI: ",t[n].name,Object(x.jsx)("br",{}),"Impressions: ",t[n].impressions]})},t[n].poi_id))}if(this.state.showRevenue){var o=N.a.divIcon({className:"marker-revenue-custom",iconSize:N.a.point(40,40,!1)});e.push(Object(x.jsx)(I.a,{position:[t[n].lat,t[n].lon],icon:o,onClick:function(){},children:Object(x.jsxs)(M.a,{children:["POI: ",t[n].name,Object(x.jsx)("br",{}),"Revenue: ",t[n].revenue]})},t[n].poi_id))}}return e}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{style:{width:"80%",margin:10},children:[console.log("hello",typeof this.state.data),Object(x.jsxs)(S.a,{className:"markercluster-map",center:[50.6,-105.3],zoom:5,children:[Object(x.jsx)(R.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),Object(x.jsx)(P.a,{spiderfyDistanceMultiplier:1,showCoverageOnHover:!0,iconCreateFunction:K,children:this.createMarkers()})]}),Object(x.jsxs)("div",{style:{display:"flex",flexDirection:"row",margin:2},children:[Object(x.jsx)(y.a,{style:{color:"#FF5733",backgroundColor:"white",border:"2px solid #FF5733",margin:"1px"},onClick:function(){e.clicksToggle()},children:"Clicks"}),Object(x.jsx)(y.a,{style:{color:"#FFC300",backgroundColor:"white",border:"2px solid #FFC300",margin:"1px"},onClick:function(){e.impressionsToggle()},children:"Impressions"}),Object(x.jsx)(y.a,{style:{color:"#900C3F",backgroundColor:"white",border:"2px solid #900C3F",margin:"1px"},onClick:function(){e.revenueToggle()},children:"Revenue"})]})]})}}]),n}(s.Component);var A=function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(x.jsx)("p",{className:"title",style:{color:"#FFFFFF",fontSize:24},children:"EQWorks Frontend Stream Submission: Zack Hassan"})}),Object(x.jsx)(g,{}),Object(x.jsx)(w,{}),Object(x.jsx)(F,{}),Object(x.jsx)(_,{})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,389)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),o(e),i(e)}))};i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(A,{})}),document.getElementById("root")),E()}},[[372,1,2]]]);
//# sourceMappingURL=main.7bffc4bd.chunk.js.map